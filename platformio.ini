[env:esp32-s3-devkitc-1]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; Configurações do ESP32-S3
board_build.partitions = default.csv
board_build.f_cpu = 240000000L
board_build.f_flash = 80000000L
board_build.flash_mode = qio

; Monitor serial
monitor_speed = 115200
monitor_filters = default
monitor_dtr = 0
monitor_rts = 0

; Porta serial específica (ajuste se necessário)
upload_port = COM3
monitor_port = COM3

; Flags de upload para melhor compatibilidade
upload_flags = 
    --before=default_reset
    --after=hard_reset

; Bibliotecas necessárias
lib_deps = 
    4-20ma/ModbusMaster@^2.0.1
    bblanchon/ArduinoJson@^6.21.3
    me-no-dev/ESPAsyncWebServer@^3.0.0
    me-no-dev/AsyncTCP@^1.1.1

; Flags de compilação
; IMPORTANTE: Habilita USB Serial/JTAG para comunicação serial
build_flags = 
    -DCORE_DEBUG_LEVEL=3
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1
    ; -DBOARD_HAS_PSRAM  ; Removido: placa pode não ter PSRAM ou configuração diferente

; Configuração SPIFFS para arquivos HTML
board_build.filesystem = littlefs

